import{b as e,i as l,bg as o,U as n,h as a,k as t,cV as r,be as s,r as u,c4 as d,B as i,d4 as c,D as v,az as f,ay as p,bn as y,d5 as g,C as m,o as C,aw as b,z as B,S}from"./index.o_u0uAyh.js";import{t as A}from"./index.CDHjHQxV.js";const x=Symbol("dialogInjectionKey"),D="dialog-fade",I=e({center:Boolean,alignCenter:{type:Boolean,default:void 0},closeIcon:{type:l},draggable:{type:Boolean,default:void 0},overflow:{type:Boolean,default:void 0},fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),L={close:()=>!0},h=e({...I,appendToBody:Boolean,appendTo:{type:A.to.type,default:"body"},beforeClose:{type:a(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},modalPenetrable:Boolean,openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"},transition:{type:a([String,Object]),default:void 0}}),E={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[n]:e=>o(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},w=(e,l)=>{var o;const a=t().emit,{nextZIndex:A}=r();let x="";const I=s(),L=s(),h=u(!1),E=u(!1),w=u(!1),F=u(null!=(o=e.zIndex)?o:A()),z=u(!1);let O,k;const j=d(),N=i(()=>{var e,l;return null!=(l=null==(e=j.value)?void 0:e.namespace)?l:c}),P=i(()=>{var e;return null==(e=j.value)?void 0:e.dialog}),T=i(()=>{const l={},o=`--${N.value}-dialog`;if(!e.fullscreen){e.top&&(l[`${o}-margin-top`]=e.top);const n=v(e.width);n&&(l[`${o}-width`]=n)}return l}),V=i(()=>{var l,o,n;return null!=(n=null!=(o=e.draggable)?o:null==(l=P.value)?void 0:l.draggable)&&n&&!e.fullscreen}),M=i(()=>{var l,o,n;return null!=(n=null!=(o=e.alignCenter)?o:null==(l=P.value)?void 0:l.alignCenter)&&n}),$=i(()=>{var l,o,n;return null!=(n=null!=(o=e.overflow)?o:null==(l=P.value)?void 0:l.overflow)&&n}),_=i(()=>M.value?{display:"flex"}:{}),R=i(()=>{var l,o,n;const a=null!=(n=null!=(o=e.transition)?o:null==(l=P.value)?void 0:l.transition)?n:D,t={name:a,onAfterEnter:q,onBeforeLeave:U,onAfterLeave:K};if(f(a)){const e={...a},l=(e,l)=>o=>{p(e)?e.forEach(e=>{y(e)&&e(o)}):y(e)&&e(o),l()};return e.onAfterEnter=l(e.onAfterEnter,q),e.onBeforeLeave=l(e.onBeforeLeave,U),e.onAfterLeave=l(e.onAfterLeave,K),e.name||(e.name=D),e}return t});function q(){a("opened")}function K(){a("closed"),a(n,!1),e.destroyOnClose&&(w.value=!1),z.value=!1}function U(){z.value=!0,a("close")}function Z(){null==k||k(),null==O||O(),e.openDelay&&e.openDelay>0?({stop:O}=b(()=>J(),e.openDelay)):J()}function G(){null==O||O(),null==k||k(),e.closeDelay&&e.closeDelay>0?({stop:k}=b(()=>Q(),e.closeDelay)):Q()}function H(){e.beforeClose?e.beforeClose(function(e){e||(E.value=!0,h.value=!1)}):G()}function J(){B&&(h.value=!0)}function Q(){h.value=!1}return e.lockScroll&&g(h),m(()=>e.zIndex,()=>{var l;F.value=null!=(l=e.zIndex)?l:A()}),m(()=>e.modelValue,o=>{var n;o?(E.value=!1,Z(),w.value=!0,F.value=null!=(n=e.zIndex)?n:A(),S(()=>{a("open"),l.value&&(l.value.parentElement.scrollTop=0,l.value.parentElement.scrollLeft=0,l.value.scrollTop=0)})):h.value&&G()}),m(()=>e.fullscreen,e=>{l.value&&(e?(x=l.value.style.transform,l.value.style.transform=""):l.value.style.transform=x)}),C(()=>{e.modelValue&&(h.value=!0,w.value=!0,Z())}),{afterEnter:q,afterLeave:K,beforeLeave:U,handleClose:H,onModalClick:function(){e.closeOnClickModal&&H()},close:G,doClose:Q,onOpenAutoFocus:function(){a("openAutoFocus")},onCloseAutoFocus:function(){a("closeAutoFocus")},onCloseRequested:function(){e.closeOnPressEscape&&H()},onFocusoutPrevented:function(e){var l;"pointer"===(null==(l=e.detail)?void 0:l.focusReason)&&e.preventDefault()},titleId:I,bodyId:L,closed:E,style:T,overlayDialogStyle:_,rendered:w,visible:h,zIndex:F,transitionConfig:R,_draggable:V,_alignCenter:M,_overflow:$,closing:z}};export{h as a,L as b,I as c,E as d,x as e,w as u};
