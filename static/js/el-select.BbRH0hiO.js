import{cp as e,cz as l,cd as t,ch as a,cA as n,cB as o,cv as s,cC as i,cD as r,cc as u,cm as p,A as c,r as d,B as v,aA as f,C as m,bK as b,b as g,j as h,as as y,az as S,bN as x,k as w,_ as O,d as C,a8 as V,aa as I,c as k,e as E,f as T,l as R,t as D,an as B,n as L,a as M,be as $,g as z,bp as W,P as F,ai as _,S as H,V as K,H as N,o as P,u as j,Q as A,a4 as G,a3 as U,cE as Q,R as q,a5 as J,Y as X,ay as Y,cF as Z,a2 as ee,cG as le,au as te,cH as ae,M as ne,cI as oe,bn as se,bJ as ie,F as re,G as ue,J as pe,cJ as ce,U as de,Z as ve,z as fe,bh as me,I as be,$ as ge,a0 as he,h as ye,a9 as Se,i as xe,bD as we,a1 as Oe,p as Ce,cK as Ve,bX as Ie,aS as ke,cy as Ee,W as Te,w as Re,m as De,N as Be,O as Le,x as Me,ae as $e,cL as ze,q as We,cM as Fe,E as _e,aB as He,v as Ke,s as Ne}from"./index.o_u0uAyh.js";import{u as Pe,b as je,E as Ae}from"./el-popper.DcqWso5-.js";import{s as Ge,E as Ue}from"./el-scrollbar.B27H2Czh.js";import{t as Qe,E as qe}from"./el-tag.Bs7uEFwl.js";import{e as Je,a as Xe}from"./strings.DSvhkfLF.js";import{c as Ye}from"./castArray.BobvwChE.js";import{C as Ze}from"./index.DyHHGYjN.js";function el(e){return e==e&&!t(e)}function ll(e,l){return function(t){return null!=t&&(t[e]===l&&(void 0!==l||e in Object(t)))}}function tl(t){var n=function(e){for(var l=a(e),t=l.length;t--;){var n=l[t],o=e[n];l[t]=[n,o,el(o)]}return l}(t);return 1==n.length&&n[0][2]?ll(n[0][0],n[0][1]):function(a){return a===t||function(t,a,n,o){var s=n.length,i=s;if(null==t)return!i;for(t=Object(t);s--;){var r=n[s];if(r[2]?r[1]!==t[r[0]]:!(r[0]in t))return!1}for(;++s<i;){var u=(r=n[s])[0],p=t[u],c=r[1];if(r[2]){if(void 0===p&&!(u in t))return!1}else{var d=new e;if(!l(c,p,3,o,d))return!1}}return!0}(a,0,n)}}function al(e){return n(e)?(l=o(e),function(e){return null==e?void 0:e[l]}):function(e){return function(l){return r(l,e)}}(e);var l}function nl(e){return"function"==typeof e?e:null==e?u:"object"==typeof e?p(e)?(t=e[0],a=e[1],n(t)&&el(a)?ll(o(t),a):function(e){var n=s(e,t);return void 0===n&&n===a?i(e,t):l(a,n,3)}):tl(e):al(e);var t,a}const ol={label:"label",value:"value",disabled:"disabled",options:"options"};const sl=Symbol("ElSelectGroup"),il=Symbol("ElSelect"),rl="ElOption",ul=g({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});const pl=C({name:rl,componentName:rl,props:ul,setup(e){const l=M("select"),t=$(),a=v(()=>[l.be("dropdown","item"),l.is("disabled",z(r)),l.is("selected",z(i)),l.is("hovering",z(f))]),n=F({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:i,isDisabled:r,select:u,hoverItem:p,updateOption:c}=function(e,l){const t=h(il);t||y(rl,"usage: <el-select><el-option /></el-select/>");const a=h(sl,{disabled:!1}),n=v(()=>c(Ye(t.props.modelValue),e.value)),o=v(()=>{var e;if(t.props.multiple){const l=Ye(null!=(e=t.props.modelValue)?e:[]);return!n.value&&l.length>=t.props.multipleLimit&&t.props.multipleLimit>0}return!1}),i=v(()=>{var l;return null!=(l=e.label)?l:S(e.value)?"":e.value}),r=v(()=>e.value||e.label||""),u=v(()=>e.disabled||l.groupDisabled||o.value),p=w(),c=(l=[],a)=>{if(S(e.value)){const e=t.props.valueKey;return l&&l.some(l=>x(s(l,e))===s(a,e))}return l&&l.includes(a)};return m(()=>i.value,()=>{e.created||t.props.remote||t.setSelected()}),m(()=>e.value,(l,a)=>{const{remote:n,valueKey:o}=t.props;if((n?l!==a:!b(l,a))&&(t.onOptionDestroy(a,p.proxy),t.onOptionCreate(p.proxy)),!e.created&&!n){if(o&&S(l)&&S(a)&&l[o]===a[o])return;t.setSelected()}}),m(()=>a.disabled,()=>{l.groupDisabled=a.disabled},{immediate:!0}),{select:t,currentLabel:i,currentValue:r,itemSelected:n,isDisabled:u,hoverItem:()=>{u.value||(t.states.hoveringIndex=t.optionsArray.indexOf(p.proxy))},updateOption:t=>{const a=new RegExp(Je(t),"i");l.visible=a.test(String(i.value))||e.created}}}(e,n),{visible:d,hover:f}=W(n),g=w().proxy;return u.onOptionCreate(g),_(()=>{const e=g.value;H(()=>{const{selected:l}=u.states,t=l.some(e=>e.value===g.value);u.states.cachedOptions.get(e)!==g||t||u.states.cachedOptions.delete(e)}),u.onOptionDestroy(e,g)}),{ns:l,id:t,containerKls:a,currentLabel:o,itemSelected:i,isDisabled:r,select:u,visible:d,hover:f,states:n,hoverItem:p,updateOption:c,selectOptionClick:function(){r.value||u.handleOptionSelect(g)}}}}),cl=["id","aria-disabled","aria-selected"];var dl=O(pl,[["render",function(e,l,t,a,n,o){return V((E(),k("li",{id:e.id,class:L(e.containerKls),role:"option","aria-disabled":e.isDisabled||void 0,"aria-selected":e.itemSelected,onMousemove:l[0]||(l[0]=(...l)=>e.hoverItem&&e.hoverItem(...l)),onClick:l[1]||(l[1]=B((...l)=>e.selectOptionClick&&e.selectOptionClick(...l),["stop"])),onMousedown:l[2]||(l[2]=B(()=>{},["prevent"]))},[T(e.$slots,"default",{},()=>[R("span",null,D(e.currentLabel),1)])],42,cl)),[[I,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);var vl=O(C({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=h(il),l=M("select"),t=v(()=>e.props.popperClass),a=v(()=>e.props.multiple),n=v(()=>e.props.fitInputWidth),o=d("");function s(){var l;const t=null==(l=e.selectRef)?void 0:l.offsetWidth;o.value=t?t-2+"px":""}return P(()=>{s(),f(e.selectRef,s)}),{ns:l,minWidth:o,popperClass:t,isMultiple:a,isFitInputWidth:n}}}),[["render",function(e,l,t,a,n,o){return E(),k("div",{class:L([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:N({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[e.$slots.header?(E(),k("div",{key:0,class:L(e.ns.be("dropdown","header"))},[T(e.$slots,"header")],2)):K("v-if",!0),T(e.$slots,"default"),e.$slots.footer?(E(),k("div",{key:1,class:L(e.ns.be("dropdown","footer"))},[T(e.$slots,"footer")],2)):K("v-if",!0)],6)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const fl=(e,l)=>{const{t:t}=j(),a=$(),n=M("select"),o=M("input"),i=F({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),r=d(),u=d(),p=d(),c=d(),g=d(),h=d(),y=d(),x=d(),w=d(),O=d(),C=d(),V=d(!1),I=d(),k=d(!1),{form:E,formItem:T}=A(),{inputId:R}=G(e,{formItemContext:T}),{valueOnClear:D,isEmptyValue:B}=U(e),{isComposing:L,handleCompositionStart:z,handleCompositionUpdate:W,handleCompositionEnd:_}=Q({afterComposition:e=>Ue(e)}),K=q(),{wrapperRef:N,isFocused:be,handleBlur:ge}=J(g,{disabled:K,afterFocus(){e.automaticDropdown&&!V.value&&(V.value=!0,i.menuVisibleOnFocus=!0)},beforeBlur(e){var l,t;return(null==(l=p.value)?void 0:l.isFocusInsideContent(e))||(null==(t=c.value)?void 0:t.isFocusInsideContent(e))},afterBlur(){var l;V.value=!1,i.menuVisibleOnFocus=!1,e.validateEvent&&(null==(l=null==T?void 0:T.validate)||l.call(T,"blur").catch(e=>X()))}}),he=v(()=>Y(e.modelValue)?e.modelValue.length>0:!B(e.modelValue)),ye=v(()=>{var e;return null!=(e=null==E?void 0:E.statusIcon)&&e}),Se=v(()=>e.clearable&&!K.value&&he.value&&(be.value||i.inputHovering)),xe=v(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),we=v(()=>n.is("reverse",!(!xe.value||!V.value))),Oe=v(()=>(null==T?void 0:T.validateState)||""),Ce=v(()=>Oe.value&&Z[Oe.value]),Ve=v(()=>e.remote?e.debounce:0),Ie=v(()=>e.remote&&!i.inputValue&&0===i.options.size),ke=v(()=>e.loading?e.loadingText||t("el.select.loading"):e.filterable&&i.inputValue&&i.options.size>0&&0===Ee.value?e.noMatchText||t("el.select.noMatch"):0===i.options.size?e.noDataText||t("el.select.noData"):null),Ee=v(()=>Te.value.filter(e=>e.visible).length),Te=v(()=>{const e=Array.from(i.options.values()),l=[];return i.optionValues.forEach(t=>{const a=e.findIndex(e=>e.value===t);a>-1&&l.push(e[a])}),l.length>=e.length?l:e}),Re=v(()=>Array.from(i.cachedOptions.values())),De=v(()=>{const l=Te.value.filter(e=>!e.created).some(e=>e.currentLabel===i.inputValue);return e.filterable&&e.allowCreate&&""!==i.inputValue&&!l}),Be=()=>{e.filterable&&se(e.filterMethod)||e.filterable&&e.remote&&se(e.remoteMethod)||Te.value.forEach(e=>{var l;null==(l=e.updateOption)||l.call(e,i.inputValue)})},Le=ee(),Me=v(()=>["small"].includes(Le.value)?"small":"default"),$e=v({get:()=>V.value&&(e.loading||!Ie.value)&&(!k.value||!le(i.previousQuery)),set(e){V.value=e}}),ze=v(()=>{if(e.multiple&&!te(e.modelValue))return 0===Ye(e.modelValue).length&&!i.inputValue;const l=Y(e.modelValue)?e.modelValue[0]:e.modelValue;return!e.filterable&&!te(l)||!i.inputValue}),We=v(()=>{var l;const a=null!=(l=e.placeholder)?l:t("el.select.placeholder");return e.multiple||!he.value?a:i.selectedLabel}),Fe=v(()=>ae?null:"mouseenter");m(()=>e.modelValue,(l,t)=>{e.multiple&&e.filterable&&!e.reserveKeyword&&(i.inputValue="",_e("")),Ke(),!b(l,t)&&e.validateEvent&&(null==T||T.validate("change").catch(e=>X()))},{flush:"post",deep:!0}),m(()=>V.value,e=>{e?_e(i.inputValue):(i.inputValue="",i.previousQuery=null,i.isBeforeHide=!0)}),m(()=>i.options.entries(),()=>{fe&&(Ke(),e.defaultFirstOption&&(e.filterable||e.remote)&&Ee.value&&He())},{flush:"post"}),m([()=>i.hoveringIndex,Te],([e])=>{me(e)&&e>-1?I.value=Te.value[e]||{}:I.value={},Te.value.forEach(e=>{e.hover=I.value===e})}),ne(()=>{i.isBeforeHide||Be()});const _e=l=>{i.previousQuery===l||L.value||(i.previousQuery=l,e.filterable&&se(e.filterMethod)?e.filterMethod(l):e.filterable&&e.remote&&se(e.remoteMethod)&&e.remoteMethod(l),e.defaultFirstOption&&(e.filterable||e.remote)&&Ee.value?H(He):H(Pe))},He=()=>{const e=Te.value.filter(e=>e.visible&&!e.disabled&&!e.states.groupDisabled),l=e.find(e=>e.created),t=e[0],a=Te.value.map(e=>e.value);i.hoveringIndex=tl(a,l||t)},Ke=()=>{if(!e.multiple){const l=Y(e.modelValue)?e.modelValue[0]:e.modelValue,t=Ne(l);return i.selectedLabel=t.currentLabel,void(i.selected=[t])}i.selectedLabel="";const l=[];te(e.modelValue)||Ye(e.modelValue).forEach(e=>{l.push(Ne(e))}),i.selected=l},Ne=l=>{let t;const a=ie(l);for(let n=i.cachedOptions.size-1;n>=0;n--){const o=Re.value[n];if(a?s(o.value,e.valueKey)===s(l,e.valueKey):o.value===l){t={index:Te.value.filter(e=>!e.created).indexOf(o),value:l,currentLabel:o.currentLabel,get isDisabled(){return o.isDisabled}};break}}if(t)return t;return{index:-1,value:l,currentLabel:a?l.label:null!=l?l:""}},Pe=()=>{const e=i.selected.length;if(e>0){const l=i.selected[e-1];i.hoveringIndex=Te.value.findIndex(e=>pl(l)===pl(e))}else i.hoveringIndex=-1},je=()=>{var e,l;null==(l=null==(e=p.value)?void 0:e.updatePopper)||l.call(e)},Ae=()=>{var e,l;null==(l=null==(e=c.value)?void 0:e.updatePopper)||l.call(e)},Ge=()=>{i.inputValue.length>0&&!V.value&&(V.value=!0),_e(i.inputValue)},Ue=l=>{if(i.inputValue=l.target.value,!e.remote)return Ge();k.value=!0,Qe()},Qe=oe(()=>{Ge(),k.value=!1},Ve),qe=t=>{b(e.modelValue,t)||l(ve,t)},Je=e=>function(e,l){var t=null==e?0:e.length;if(!t)return-1;var a=t-1;return function(e,l,t){e.length;for(var a=t+1;a--;)if(l(e[a],a,e))return a;return-1}(e,nl(l),a)}(e,e=>{const l=i.cachedOptions.get(e);return!(null==l?void 0:l.disabled)&&!(null==l?void 0:l.states.groupDisabled)}),Ze=t=>{const a=re(t);if(e.multiple&&a!==ue.delete&&t.target.value.length<=0){const t=Ye(e.modelValue).slice(),a=Je(t);if(a<0)return;const n=t[a];t.splice(a,1),l(de,t),qe(t),l("remove-tag",n)}},el=t=>{t.stopPropagation();const a=e.multiple?[]:D.value;if(e.multiple)for(const e of i.selected)e.isDisabled&&a.push(e.value);l(de,a),qe(a),i.hoveringIndex=-1,V.value=!1,l("clear"),sl()},ll=t=>{var a;if(e.multiple){const n=Ye(null!=(a=e.modelValue)?a:[]).slice(),o=tl(n,t);o>-1?n.splice(o,1):(e.multipleLimit<=0||n.length<e.multipleLimit)&&n.push(t.value),l(de,n),qe(n),t.created&&_e(""),e.filterable&&!e.reserveKeyword&&(i.inputValue="")}else!b(e.modelValue,t.value)&&l(de,t.value),qe(t.value),V.value=!1;sl(),V.value||H(()=>{al(t)})},tl=(l,t)=>te(t)?-1:S(t.value)?l.findIndex(l=>b(s(l,e.valueKey),pl(t))):l.indexOf(t.value),al=e=>{var l,t,a,o,s;const i=Y(e)?e[e.length-1]:e;let r=null;if(!pe(null==i?void 0:i.value)){const e=Te.value.filter(e=>e.value===i.value);e.length>0&&(r=e[0].$el)}if(p.value&&r){const e=null==(o=null==(a=null==(t=null==(l=p.value)?void 0:l.popperRef)?void 0:t.contentRef)?void 0:a.querySelector)?void 0:o.call(a,`.${n.be("dropdown","wrap")}`);e&&ce(e,r)}null==(s=C.value)||s.handleScroll()},ol=v(()=>{var e,l;return null==(l=null==(e=p.value)?void 0:e.popperRef)?void 0:l.contentRef}),sl=()=>{var e;null==(e=g.value)||e.focus()},il=()=>{i.inputValue.length>0?i.inputValue="":V.value=!1},rl=l=>{var t;K.value||e.filterable&&V.value&&l&&!(null==(t=y.value)?void 0:t.contains(l.target))||(ae&&(i.inputHovering=!0),i.menuVisibleOnFocus?i.menuVisibleOnFocus=!1:V.value=!V.value)},ul=()=>{if(V.value){const e=Te.value[i.hoveringIndex];e&&!e.isDisabled&&ll(e)}else rl()},pl=l=>S(l.value)?s(l.value,e.valueKey):l.value,cl=v(()=>Te.value.filter(e=>e.visible).every(e=>e.isDisabled)),dl=v(()=>e.multiple?e.collapseTags?i.selected.slice(0,e.maxCollapseTags):i.selected:[]),vl=v(()=>e.multiple&&e.collapseTags?i.selected.slice(e.maxCollapseTags):[]),fl=e=>{if(V.value){if(0!==i.options.size&&0!==Ee.value&&!L.value&&!cl.value){"next"===e?(i.hoveringIndex++,i.hoveringIndex===i.options.size&&(i.hoveringIndex=0)):"prev"===e&&(i.hoveringIndex--,i.hoveringIndex<0&&(i.hoveringIndex=i.options.size-1));const l=Te.value[i.hoveringIndex];!l.isDisabled&&l.visible||fl(e),H(()=>al(I.value))}}else V.value=!0},ml=(e,l,t,a)=>{for(let n=l;n>=0&&n<a;n+=t){const l=e[n];if(!(null==l?void 0:l.isDisabled)&&(null==l?void 0:l.visible))return n}return null},bl=(e,l)=>{var t;const a=i.options.size;if(0===a)return;const n=Xe(e,0,a-1),o=Te.value,s="up"===l?-1:1,r=null!=(t=ml(o,n,s,a))?t:ml(o,n-s,-s,a);null!=r&&(i.hoveringIndex=r,H(()=>al(I.value)))},gl=v(()=>{const l=(()=>{if(!u.value)return 0;const e=window.getComputedStyle(u.value);return Number.parseFloat(e.gap||"6px")})(),t=e.filterable?l+11:0;return{maxWidth:`${O.value&&1===e.maxCollapseTags?i.selectionWidth-i.collapseItemWidth-l-t:i.selectionWidth-t}px`}}),hl=v(()=>({maxWidth:`${i.selectionWidth}px`}));let yl;return f(u,()=>{i.selectionWidth=Number.parseFloat(window.getComputedStyle(u.value).width)}),f(N,je),f(w,Ae),f(O,()=>{i.collapseItemWidth=O.value.getBoundingClientRect().width}),m(()=>$e.value,e=>{e?yl=f(x,je).stop:(null==yl||yl(),yl=void 0),l("visible-change",e)}),P(()=>{Ke()}),{inputId:R,contentId:a,nsSelect:n,nsInput:o,states:i,isFocused:be,expanded:V,optionsArray:Te,hoverOption:I,selectSize:Le,filteredOptionsCount:Ee,updateTooltip:je,updateTagTooltip:Ae,debouncedOnInputChange:Qe,onInput:Ue,deletePrevTag:Ze,deleteTag:(t,a)=>{const n=i.selected.indexOf(a);if(n>-1&&!K.value){const t=Ye(e.modelValue).slice();t.splice(n,1),l(de,t),qe(t),l("remove-tag",a.value)}t.stopPropagation(),sl()},deleteSelected:el,handleOptionSelect:ll,scrollToOption:al,hasModelValue:he,shouldShowPlaceholder:ze,currentPlaceholder:We,mouseEnterEventName:Fe,needStatusIcon:ye,showClearBtn:Se,iconComponent:xe,iconReverse:we,validateState:Oe,validateIcon:Ce,showNewOption:De,updateOptions:Be,collapseTagSize:Me,setSelected:Ke,selectDisabled:K,emptyText:ke,handleCompositionStart:z,handleCompositionUpdate:W,handleCompositionEnd:_,handleKeydown:e=>{let l=!0;switch(re(e)){case ue.up:fl("prev");break;case ue.down:fl("next");break;case ue.enter:case ue.numpadEnter:L.value||ul();break;case ue.esc:il();break;case ue.backspace:return l=!1,void Ze(e);case ue.home:if(!V.value)return;bl(0,"down");break;case ue.end:if(!V.value)return;bl(i.options.size-1,"up");break;case ue.pageUp:if(!V.value)return;bl(i.hoveringIndex-10,"up");break;case ue.pageDown:if(!V.value)return;bl(i.hoveringIndex+10,"down");break;default:l=!1}l&&(e.preventDefault(),e.stopPropagation())},onOptionCreate:e=>{i.options.set(e.value,e),i.cachedOptions.set(e.value,e)},onOptionDestroy:(e,l)=>{i.options.get(e)===l&&i.options.delete(e)},handleMenuEnter:()=>{i.isBeforeHide=!1,H(()=>{var e;null==(e=C.value)||e.update(),al(i.selected)})},focus:sl,blur:()=>{var e;if(V.value)return V.value=!1,void H(()=>{var e;return null==(e=g.value)?void 0:e.blur()});null==(e=g.value)||e.blur()},handleClearClick:e=>{el(e)},handleClickOutside:e=>{if(V.value=!1,be.value){const l=new FocusEvent("blur",e);H(()=>ge(l))}},handleEsc:il,toggleMenu:rl,selectOption:ul,getValueKey:pl,navigateOptions:fl,dropdownMenuVisible:$e,showTagList:dl,collapseTagList:vl,popupScroll:e=>{l("popup-scroll",e)},getOption:Ne,tagStyle:gl,collapseTagStyle:hl,popperRef:ol,inputRef:g,tooltipRef:p,tagTooltipRef:c,prefixRef:h,suffixRef:y,selectRef:r,wrapperRef:N,selectionRef:u,scrollbarRef:C,menuRef:x,tagMenuRef:w,collapseItemRef:O}};var ml=C({name:"ElOptions",setup(e,{slots:l}){const t=h(il);let a=[];return()=>{var e,n;const o=null==(e=l.default)?void 0:e.call(l),s=[];return o.length&&function e(l){Y(l)&&l.forEach(l=>{var t,a,n,o;const i=null==(t=(null==l?void 0:l.type)||{})?void 0:t.name;"ElOptionGroup"===i?e(be(l.children)||Y(l.children)||!se(null==(a=l.children)?void 0:a.default)?l.children:null==(n=l.children)?void 0:n.default()):"ElOption"===i?s.push(null==(o=l.props)?void 0:o.value):Y(l.children)&&e(l.children)})}(null==(n=o[0])?void 0:n.children),b(s,a)||(a=s,t&&(t.states.optionValues=s)),o}}});const bl=g({name:String,id:String,modelValue:{type:ye([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Oe,effect:{type:ye(String),default:"light"},disabled:{type:Boolean,default:void 0},clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperStyle:{type:ye([String,Object])},popperOptions:{type:ye(Object),default:()=>({})},remote:Boolean,debounce:{type:Number,default:300},loadingText:String,noMatchText:String,noDataText:String,remoteMethod:{type:ye(Function)},filterMethod:{type:ye(Function)},multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Pe.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:xe,default:we},fitInputWidth:Boolean,suffixIcon:{type:xe,default:Se},tagType:{...Qe.type,default:"info"},tagEffect:{...Qe.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:ye(String),values:je,default:"bottom-start"},fallbackPlacements:{type:ye(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:Pe.appendTo,options:{type:ye(Array)},props:{type:ye(Object),default:()=>ol},...he,...ge(["ariaLabel"])});Ge.scroll;var gl=O(C({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const l=M("select"),t=d(),a=w(),n=d([]);Ce(sl,F({...W(e)}));const o=v(()=>n.value.some(e=>!0===e.visible)),s=e=>{const l=Ye(e),t=[];return l.forEach(e=>{var l;Ie(e)&&((e=>{var l;return"ElOption"===e.type.name&&!!(null==(l=e.component)?void 0:l.proxy)})(e)?t.push(e.component.proxy):Y(e.children)&&e.children.length?t.push(...s(e.children)):(null==(l=e.component)?void 0:l.subTree)&&t.push(...s(e.component.subTree)))}),t},i=()=>{n.value=s(a.subTree)};return P(()=>{i()}),Ve(t,i,{attributes:!0,subtree:!0,childList:!0}),{groupRef:t,visible:o,ns:l}}}),[["render",function(e,l,t,a,n,o){return V((E(),k("ul",{ref:"groupRef",class:L(e.ns.be("group","wrap"))},[R("li",{class:L(e.ns.be("group","title"))},D(e.label),3),R("li",null,[R("ul",{class:L(e.ns.b("group"))},[T(e.$slots,"default")],2)])],2)),[[I,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const hl="ElSelect",yl=new WeakMap,Sl=e=>(...l)=>{var t,a;const n=l[0];if(!n||n.includes('Slot "default" invoked outside of the render function')&&(null==(t=l[2])?void 0:t.includes("ElTreeSelect")))return;const o=null==(a=yl.get(e))?void 0:a.originalWarnHandler;o&&o(...l)},xl=C({name:hl,componentName:hl,components:{ElSelectMenu:vl,ElOption:dl,ElOptions:ml,ElOptionGroup:gl,ElTag:qe,ElScrollbar:Ue,ElTooltip:Ae,ElIcon:_e},directives:{ClickOutside:Ze},props:bl,emits:[de,ve,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(e,{emit:l,slots:t}){const a=w(),n=(e=>{let l=yl.get(e);return l||(l={originalWarnHandler:e.config.warnHandler,handler:Sl(e),count:0},yl.set(e,l)),l})(a.appContext);n.count+=1,a.appContext.config.warnHandler=n.handler;const o=v(()=>{const{modelValue:l,multiple:t}=e,a=t?[]:void 0;return Y(l)?t?l:a:t?a:l}),i=F({...W(e),modelValue:o}),r=fl(i,l),{calculatorRef:u,inputStyle:p}=function(){const e=c(),l=d(0),t=v(()=>({minWidth:`${Math.max(l.value,11)}px`}));return f(e,()=>{var t,a;l.value=null!=(a=null==(t=e.value)?void 0:t.getBoundingClientRect().width)?a:0}),{calculatorRef:e,calculatorWidth:l,inputStyle:t}}(),{getLabel:g,getValue:h,getOptions:y,getDisabled:x}=function(e){const l=d({...ol,...e.props});let t={...e.props};return m(()=>e.props,e=>{b(e,t)||(l.value={...ol,...e},t={...e})},{deep:!0}),{aliasProps:l,getLabel:e=>s(e,l.value.label),getValue:e=>s(e,l.value.value),getDisabled:e=>s(e,l.value.disabled),getOptions:e=>s(e,l.value.options)}}(e),O=e=>e.reduce((e,l)=>(e.push(l),l.children&&l.children.length>0&&e.push(...O(l.children)),e),[]);m(()=>{var e;return[null==(e=t.default)?void 0:e.call(t),o.value]},()=>{var l,a;e.persistent||r.expanded.value||(r.states.options.clear(),a=null==(l=t.default)?void 0:l.call(t),He(a||[]).forEach(e=>{var l;if(S(e)&&("ElOption"===e.type.name||"ElTree"===e.type.name)){const t=e.type.name;if("ElTree"===t){const t=(null==(l=e.props)?void 0:l.data)||[];O(t).forEach(e=>{e.currentLabel=e.label||(S(e.value)?"":e.value),r.onOptionCreate(e)})}else if("ElOption"===t){const l={...e.props};l.currentLabel=l.label||(S(l.value)?"":l.value),r.onOptionCreate(l)}}}))},{immediate:!0}),Ce(il,F({props:i,states:r.states,selectRef:r.selectRef,optionsArray:r.optionsArray,setSelected:r.setSelected,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy}));const C=v(()=>e.multiple?r.states.selected.map(e=>e.currentLabel):r.states.selectedLabel);return _(()=>{const e=yl.get(a.appContext);e&&(e.count-=1,e.count<=0&&(a.appContext.config.warnHandler=e.originalWarnHandler,yl.delete(a.appContext)))}),{...r,modelValue:o,selectedLabel:C,calculatorRef:u,inputStyle:p,getLabel:g,getValue:h,getOptions:y,getDisabled:x,getOptionProps:e=>({label:g(e),value:h(e),disabled:x(e)})}}}),wl=["id","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],Ol=["textContent"],Cl={key:1};const Vl=Ke(O(xl,[["render",function(e,l,t,a,n,o){const s=ke("el-tag"),i=ke("el-tooltip"),r=ke("el-icon"),u=ke("el-option"),p=ke("el-option-group"),c=ke("el-options"),d=ke("el-scrollbar"),v=ke("el-select-menu"),f=Ee("click-outside");return V((E(),k("div",Me({ref:"selectRef",class:[e.nsSelect.b(),e.nsSelect.m(e.selectSize)]},{[Fe(e.mouseEnterEventName)]:l[11]||(l[11]=l=>e.states.inputHovering=!0)},{onMouseleave:l[12]||(l[12]=l=>e.states.inputHovering=!1)}),[Te(i,{ref:"tooltipRef",visible:e.dropdownMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-style":e.popperStyle,"popper-options":e.popperOptions,"fallback-placements":e.fallbackPlacements,effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,"append-to":e.appendTo,"show-arrow":e.showArrow,offset:e.offset,onBeforeShow:e.handleMenuEnter,onHide:l[10]||(l[10]=l=>e.states.isBeforeHide=!1)},{default:Re(()=>{var t;return[R("div",{ref:"wrapperRef",class:L([e.nsSelect.e("wrapper"),e.nsSelect.is("focused",e.isFocused),e.nsSelect.is("hovering",e.states.inputHovering),e.nsSelect.is("filterable",e.filterable),e.nsSelect.is("disabled",e.selectDisabled)]),onClick:l[7]||(l[7]=B((...l)=>e.toggleMenu&&e.toggleMenu(...l),["prevent"]))},[e.$slots.prefix?(E(),k("div",{key:0,ref:"prefixRef",class:L(e.nsSelect.e("prefix"))},[T(e.$slots,"prefix")],2)):K("v-if",!0),R("div",{ref:"selectionRef",class:L([e.nsSelect.e("selection"),e.nsSelect.is("near",e.multiple&&!e.$slots.prefix&&!!e.states.selected.length)])},[e.multiple?T(e.$slots,"tag",{key:0,data:e.states.selected,deleteTag:e.deleteTag,selectDisabled:e.selectDisabled},()=>[(E(!0),k(Be,null,Le(e.showTagList,l=>(E(),k("div",{key:e.getValueKey(l),class:L(e.nsSelect.e("selected-item"))},[Te(s,{closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:N(e.tagStyle),onClose:t=>e.deleteTag(t,l)},{default:Re(()=>[R("span",{class:L(e.nsSelect.e("tags-text"))},[T(e.$slots,"label",{index:l.index,label:l.currentLabel,value:l.value},()=>[$e(D(l.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),e.collapseTags&&e.states.selected.length>e.maxCollapseTags?(E(),De(i,{key:0,ref:"tagTooltipRef",disabled:e.dropdownMenuVisible||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom","popper-class":e.popperClass,"popper-style":e.popperStyle,teleported:e.teleported},{default:Re(()=>[R("div",{ref:"collapseItemRef",class:L(e.nsSelect.e("selected-item"))},[Te(s,{closable:!1,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",style:N(e.collapseTagStyle)},{default:Re(()=>[R("span",{class:L(e.nsSelect.e("tags-text"))}," + "+D(e.states.selected.length-e.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:Re(()=>[R("div",{ref:"tagMenuRef",class:L(e.nsSelect.e("selection"))},[(E(!0),k(Be,null,Le(e.collapseTagList,l=>(E(),k("div",{key:e.getValueKey(l),class:L(e.nsSelect.e("selected-item"))},[Te(s,{class:"in-tooltip",closable:!e.selectDisabled&&!l.isDisabled,size:e.collapseTagSize,type:e.tagType,effect:e.tagEffect,"disable-transitions":"",onClose:t=>e.deleteTag(t,l)},{default:Re(()=>[R("span",{class:L(e.nsSelect.e("tags-text"))},[T(e.$slots,"label",{index:l.index,label:l.currentLabel,value:l.value},()=>[$e(D(l.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","popper-class","popper-style","teleported"])):K("v-if",!0)]):K("v-if",!0),R("div",{class:L([e.nsSelect.e("selected-item"),e.nsSelect.e("input-wrapper"),e.nsSelect.is("hidden",!e.filterable||e.selectDisabled)])},[V(R("input",{id:e.inputId,ref:"inputRef","onUpdate:modelValue":l[0]||(l[0]=l=>e.states.inputValue=l),type:"text",name:e.name,class:L([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:N(e.inputStyle),tabindex:e.tabindex,role:"combobox",readonly:!e.filterable,spellcheck:"false","aria-activedescendant":(null==(t=e.hoverOption)?void 0:t.id)||"","aria-controls":e.contentId,"aria-expanded":e.dropdownMenuVisible,"aria-label":e.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:l[1]||(l[1]=(...l)=>e.handleKeydown&&e.handleKeydown(...l)),onCompositionstart:l[2]||(l[2]=(...l)=>e.handleCompositionStart&&e.handleCompositionStart(...l)),onCompositionupdate:l[3]||(l[3]=(...l)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...l)),onCompositionend:l[4]||(l[4]=(...l)=>e.handleCompositionEnd&&e.handleCompositionEnd(...l)),onInput:l[5]||(l[5]=(...l)=>e.onInput&&e.onInput(...l)),onClick:l[6]||(l[6]=B((...l)=>e.toggleMenu&&e.toggleMenu(...l),["stop"]))},null,46,wl),[[ze,e.states.inputValue]]),e.filterable?(E(),k("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:L(e.nsSelect.e("input-calculator")),textContent:D(e.states.inputValue)},null,10,Ol)):K("v-if",!0)],2),e.shouldShowPlaceholder?(E(),k("div",{key:1,class:L([e.nsSelect.e("selected-item"),e.nsSelect.e("placeholder"),e.nsSelect.is("transparent",!e.hasModelValue||e.expanded&&!e.states.inputValue)])},[e.hasModelValue?T(e.$slots,"label",{key:0,index:e.getOption(e.modelValue).index,label:e.currentPlaceholder,value:e.modelValue},()=>[R("span",null,D(e.currentPlaceholder),1)]):(E(),k("span",Cl,D(e.currentPlaceholder),1))],2)):K("v-if",!0)],2),R("div",{ref:"suffixRef",class:L(e.nsSelect.e("suffix"))},[e.iconComponent&&!e.showClearBtn?(E(),De(r,{key:0,class:L([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:Re(()=>[(E(),De(We(e.iconComponent)))]),_:1},8,["class"])):K("v-if",!0),e.showClearBtn&&e.clearIcon?(E(),De(r,{key:1,class:L([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.nsSelect.e("clear")]),onClick:e.handleClearClick},{default:Re(()=>[(E(),De(We(e.clearIcon)))]),_:1},8,["class","onClick"])):K("v-if",!0),e.validateState&&e.validateIcon&&e.needStatusIcon?(E(),De(r,{key:2,class:L([e.nsInput.e("icon"),e.nsInput.e("validateIcon"),e.nsInput.is("loading","validating"===e.validateState)])},{default:Re(()=>[(E(),De(We(e.validateIcon)))]),_:1},8,["class"])):K("v-if",!0)],2)],2)]}),content:Re(()=>[Te(v,{ref:"menuRef"},{default:Re(()=>[e.$slots.header?(E(),k("div",{key:0,class:L(e.nsSelect.be("dropdown","header")),onClick:l[8]||(l[8]=B(()=>{},["stop"]))},[T(e.$slots,"header")],2)):K("v-if",!0),V(Te(d,{id:e.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:L([e.nsSelect.is("empty",0===e.filteredOptionsCount)]),role:"listbox","aria-label":e.ariaLabel,"aria-orientation":"vertical",onScroll:e.popupScroll},{default:Re(()=>[e.showNewOption?(E(),De(u,{key:0,value:e.states.inputValue,created:!0},null,8,["value"])):K("v-if",!0),Te(c,null,{default:Re(()=>[T(e.$slots,"default",{},()=>[(E(!0),k(Be,null,Le(e.options,(l,t)=>{var a;return E(),k(Be,{key:t},[(null==(a=e.getOptions(l))?void 0:a.length)?(E(),De(p,{key:0,label:e.getLabel(l),disabled:e.getDisabled(l)},{default:Re(()=>[(E(!0),k(Be,null,Le(e.getOptions(l),l=>(E(),De(u,Me({key:e.getValue(l)},{ref_for:!0},e.getOptionProps(l)),null,16))),128))]),_:2},1032,["label","disabled"])):(E(),De(u,Me({key:1,ref_for:!0},e.getOptionProps(l)),null,16))],64)}),128))])]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[I,e.states.options.size>0&&!e.loading]]),e.$slots.loading&&e.loading?(E(),k("div",{key:1,class:L(e.nsSelect.be("dropdown","loading"))},[T(e.$slots,"loading")],2)):e.loading||0===e.filteredOptionsCount?(E(),k("div",{key:2,class:L(e.nsSelect.be("dropdown","empty"))},[T(e.$slots,"empty",{},()=>[R("span",null,D(e.emptyText),1)])],2)):K("v-if",!0),e.$slots.footer?(E(),k("div",{key:3,class:L(e.nsSelect.be("dropdown","footer")),onClick:l[9]||(l[9]=B(()=>{},["stop"]))},[T(e.$slots,"footer")],2)):K("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-style","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow"])],16)),[[f,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]),{Option:dl,OptionGroup:gl}),Il=Ne(dl);Ne(gl);export{Il as E,Vl as a,nl as b};
